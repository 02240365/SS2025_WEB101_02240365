{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonamzangmo/Desktop/SS2025_WEB101_02240365/practical1-tiktok/src/app/signup/page.jsx"],"sourcesContent":["'use client';\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '../../contexts/authContext';\nimport toast from 'react-hot-toast';\n\nexport default function SignupPage() {\n  const { register: registerUser } = useAuth();\n  const [isLoading, setIsLoading] = useState(false);\n  const [authError, setAuthError] = useState(null);\n  const { register, handleSubmit, watch, formState: { errors } } = useForm();\n  const router = useRouter();\n  \n  const password = watch('password');\n  \n  const onSubmit = async (data) => {\n    setIsLoading(true);\n    setAuthError(null);\n    \n    try {\n      console.log('Submitting registration data:', {\n        username: data.email,\n        email: data.email,\n        password: data.password // Don't log real passwords in production!\n      });\n      \n      const userData = {\n        username: data.email,\n        email: data.email,\n        password: data.password,\n      };\n      \n      await registerUser(userData);\n      toast.success('Registration successful! Please log in.');\n      router.push('/login'); // Redirect to login page instead of homepage\n    } catch (error) {\n      console.error('Registration error:', error);\n      const errorMsg = error.response?.data?.message || 'Registration failed';\n      setAuthError(errorMsg);\n      toast.error(errorMsg);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Rest of your form remains the same\n\n  return (\n    <div className=\"flex flex-col items-center justify-center py-8 px-4\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-2xl font-bold\">Sign up for TikTok</h1>\n          <p className=\"text-gray-500 mt-2\">Create a profile, follow other accounts, make your own videos, and more</p>\n        </div>\n\n        <div className=\"border rounded-lg p-6\">\n          {authError && (\n            <div className=\"mb-4 p-2 bg-red-50 text-red-500 rounded\">\n              {authError}\n            </div>\n          )}\n          \n          <form onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"mb-4\">\n              <input\n                type=\"text\"\n                placeholder=\"Username\"\n                className=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                {...register('username', { \n                  required: 'Username is required',\n                  minLength: {\n                    value: 3,\n                    message: 'Username must be at least 3 characters'\n                  },\n                  pattern: {\n                    value: /^[a-zA-Z0-9_]+$/,\n                    message: 'Username can only contain letters, numbers and underscores'\n                  }\n                })}\n              />\n              {errors.username && <p className=\"text-red-500 text-xs mt-1\">{errors.username.message}</p>}\n            </div>\n\n            <div className=\"mb-4\">\n              <input\n                type=\"email\"\n                placeholder=\"Email\"\n                className=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                {...register('email', { \n                  required: 'Email is required',\n                  pattern: {\n                    value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                    message: 'Invalid email address'\n                  }\n                })}\n              />\n              {errors.email && <p className=\"text-red-500 text-xs mt-1\">{errors.email.message}</p>}\n            </div>\n\n            <div className=\"mb-4\">\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                className=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                {...register('password', { \n                  required: 'Password is required',\n                  minLength: {\n                    value: 6,\n                    message: 'Password must be at least 6 characters'\n                  }\n                })}\n              />\n              {errors.password && <p className=\"text-red-500 text-xs mt-1\">{errors.password.message}</p>}\n            </div>\n\n            <div className=\"mb-6\">\n              <input\n                type=\"password\"\n                placeholder=\"Confirm password\"\n                className=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                {...register('confirmPassword', { \n                  required: 'Please confirm your password',\n                  validate: value => value === password || 'Passwords do not match'\n                })}\n              />\n              {errors.confirmPassword && <p className=\"text-red-500 text-xs mt-1\">{errors.confirmPassword.message}</p>}\n            </div>\n\n            <div className=\"mb-6\">\n              <label className=\"flex items-start\">\n                <input\n                  type=\"checkbox\"\n                  className=\"mt-1 mr-2\"\n                  {...register('terms', { required: 'You must agree to the terms' })}\n                />\n                <span className=\"text-sm text-gray-500\">\n                  I agree to TikTok's <a href=\"#\" className=\"text-black font-semibold\">Terms of Service</a> and acknowledge that I have read the <a href=\"#\" className=\"text-black font-semibold\">Privacy Policy</a>.\n                </span>\n              </label>\n              {errors.terms && <p className=\"text-red-500 text-xs mt-1\">{errors.terms.message}</p>}\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"w-full bg-red-500 text-white py-3 rounded-md font-medium hover:bg-red-600 transition\"\n              disabled={isLoading}\n            >\n              {isLoading ? 'Creating account...' : 'Sign up'}\n            </button>\n          </form>\n        </div>\n\n        <div className=\"mt-4 text-center\">\n          <p className=\"text-gray-500\">\n            Already have an account?{' '}\n            <Link href=\"/login\" className=\"text-red-500 font-medium hover:underline\">\n              Log in\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}